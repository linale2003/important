1)reboot-перезапуск виартуальной машины
2)pwd-информация ,в каком катологе ты находишься
3)cd-переход по катологу(указывание либо папки,либо полный каталог)
cd..-переход на один каталог вверх
cd,-переход в домашнюю папку
cd- -переход к пред каталогу
cd /-переход в начальную диреторию
cd ~ -переход в директорию home
4)whoami- текущий пользователь
5)ls-показывает какие папка есть в каталоге
ls -l-подробная информация
ls -a-показывает скрытые файлы
6) mv text1.txt Desktop/test1/text2.txt -перенос папке
mv 123 321- изменение имени папки 
mv -i - интерактивная опция
7)cp имя_файла путь(куда надо)-копирование файла
cp -r-рекурсивное копирование(все содержимое скопирует)
cp -i-копирование ,если такая папка уже есть,то ПО спросит надо ли перезаписать
cp /tmp/xfiles . -копирует файл в текущую директорию
cp /root/file-
8)cat имя_фала- посмотреть содержимое файла
8.1)less имя_файла-посмотреть содержимое файла
8.2)head -n(кол-во строк) имя_файла-отобразит содержимое первых строк n
8.3)tail -n(кол-во строк) имя_файла-отобразит содержимое последних n строк
8.4)tail -f - посмотрет содежимое файла ,если он даже изменяется 
9)echo-помощение значения в файл
echo "Li" >/Dekstop/test1/Nikita
10)mkdir- создание каталога
10.1)mkdir -p /tmp/dir1/dir2-создание двух директорию dir1(в котором есть директория dir2) и dir2
11)rmdir /tmp/testdir-удаление директории
12)rm -r /tmp/testdir- рекурсивное удаление(удаление директории с содержимым)
12.1)rm /tmp/testfile-удалить файл из дериктории
12.2)rm -r -i /tmp/testdir-удаление директории со всем содержимым
12.3) rm -rf /tmp/testdir-принудительное удаление,если эта директория используется какой-либо программой
13)cp- копирование файла
14)mv-перенос/переименование файла
mv [source] [destination]
15)useradd-Добавление пользователя
15.1)sudo useradd -m <им пользователя>- создание домашней директории
16)userdel-удаление пользователя
17)sudo paswwd <имя пользователя>-установить пароль
18)clear-очистка консоли(CTRL+L)
19)touch(>)- создание пустой папки(touch/tmp/test-dir/file{2,3,4}.txt) 
20)nslookup url adress- узнать IP-Адрес
21)sudo su -переход на root
22)sudo userdel -r user7 -удаление пользователя со всеми файлами
23)sudo groupadd <название группы>-создание группы
23.1)sudo groupdel <название группы>-удаление группы
24)sudo usermod -aG <название группы> <имя пользователя>-добавление пользователя в группу
25) sudo deluser <имя пользователя><имя группы>-удаление пользователя из группы
26) groups <имя пользователя>- посмотреть в какой группе пользователь 
!27)chmod 7(u)7(g)7(o) ocean.txt-дать права пользователю
!28) chmod o+rw,g+wx-r ocean.txt-дать остальным на чтение и редактирование ,а группам только дать права на реализацию и выполнение а чтение грууппам убрать(СИНТАКСИС)

!29)sudo chown <нового владельца> <имя каталога>-дать права на файл новому владельцу
!29.1)sudo shown :test2 qu1-даем права группе на файл qu1
!29.1.1) chgr <имя группы> <имя файла>-дать доступ группе на файл
31)chmog u+s
32)cat/passwd-видим какие пользователи есть
33) sudo cat etc/shadow-посмотреть пароли
34)cat /etc/group-просмотр групп
35)java -jar stegsolve.jar-открытие stegsolve
36)exiftool имя_файла-полностью показывает инфу вайла 
37)strings | gret flag название файла- ищет по ключевым словам слово "flag"
38)sudo apt-update -скачивание пакетов
39)sudo apt-upgrade-обновление пакетов
40)dpkg -l -узнать версии устаревших приложении
41)dpkg -i package.deb-установление пакета
42)dpkg -r package.deb-удаление пакета
43)sudo apt install <название пакета>-установка пакета
44)sudo apt-cache search- Search for package
45)sudo apt-cache show-show information about package
46)sudo apt-get remove-remove package
47)sudo apt-get purge-Remove package and configs
48)tar c-Create archive(создание)
49)tar r-Append to archive(добавление в существующий)
50)tar t-List contents of archive(просмотр архива)
51)tar x-Extract archive(распаковка)
52)tar v-Verbose(расширенный режим)
53)tar f file-File to use(указание имени в нужный файл)
54)gzip-classic compression in Linux
55)bzip2-More compression than gzip but more time to compress
56)file somefile-Determines format of file
57)apropos keyword-Commands whose one line descriptions contains the keyword
58)man -k
--h\--help
Create tar from files:
tar cvf archive.tar file1 file2 dir1 dir2
List content of archive:
tar tvf archive.tar
Add to file or dir to archive:
tar rvf archive.tar file3
tar rvf archive.tar di3 
Exctract file or directory:
tar xvf archive.tar file3
tar xvf arcive.tar der3/subdir3
Exctract archive 
tar xvf archive.tar
Extract in a different directory:
tar xvf archive.tar -C /tmp/extracted
Compress:
tar zcvf compressed.tar.gz file1 file2
tar jcvf compressed.tar.bz2 file1 file2
List:
tar ztvf compressed.tar.gz
tar jtvf compressed.tar.bz2
Extract File or directory:
tar zxvf compressed.tar.gz file1
tar jxvf compressed.tar.bz2 file1
XVIIISpecial symbols:
*- Matches zero or all characters(показывает отсутствие или все символыв сразу,выделяет ВСЕ файлы)
?-Matches exactly one character(соответствуйте одному знаку)
[]-Matches any of the characters enclosed in the brackets(соответсвует всем символам заключенных в скобки)
\-Escape character(исключение символа)
examples:
tar cf backup.tar *-добавление всех директории и файлов в архив
-------------- 
CTRL+C-kill command 
Ctrl+z-stop
fg-foreground job
clear-очистка консоли
exit -выход терминала
Tab- автозаполнение
Shift PgUP-прокрутка вверх
Shift PgDw-прокрутка вниз
ctrl +a -переход на начало

---------------
в linux есть три типа владельца: 
user group other

Права доступа:
read- чтение(r) -4 -просматривать или копировать содержмиое файла(просмотреть содержмое директории и скопировать файлы из каталога) 
write-запись(w) -2 -позволяют изменять содержмое файла
позволяет добавлять файл в католог или удалять(требуется разрешение на выполнение)
execute-исполнение(x) -1 -даёт права на запись файла(позволяет войти в католог)

u    g  o
rwxr r--r--

существуют два способа изменения прав доступа:

1)абсололютный
2)символический


специальные права доступа:
-rwsr-xr-x 1 root root 63960 feb 7 2020 /usr/bin/passwd

ls-l /usr/bin/passwd-путь ,который помогает изменять пароли(он направляет на etc/shadow)-только в рамке этой утилиты остальные пользователи могут измеять эту утилитку

s-установка бита свит(права доступа-свит(выполняется файл с разрешениями что и у root(владелец исполняемого файла )))-проше говоря,это для изменения пароля,например,когда пользователь использует этот файл он будет иметь разрешения root правами

когда меняем пароль-редактируется файл etc/shadow 

chmod u+s g+s
абсолютный) chmod 4(2)777

стикибит-все что туда добавляется перемоивается или удаляться только владельцу этого католога,другие пользователик могут только добавлять или просматривать

sudo chnmod +t qu1

sudo chmod -t qu1- удаление стикибита
абсолютное значеение 
sudo chmod 1777 qu1- добавление стикибита

sudo apt update

sudo apt install






@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
II

1)eth0- сетевой кабель
lo-локальный хост(127.0.0.1)
wlan0-

netstat -antp
-a -all
-n -show numerical address
-t -TCP
-p-show the name of the program


nslokup <название сайта> -узнать ДНС-сервер
vi,vim,emacs(продвинутые текстовые редакторы)
nano:
CTRL+O-сохранить
CTRL+X -выйти
CTRL+W-найти ключевое слово


apache-веб сервер
nano /etc/ssh/sshd_config-узнать свой порт
ssh-веб сервис  
service apache start-запуск apache 
service ssh start -запуск ssh
cd/var/www/html/ -все что туда создадим будет отображать в удаленном сервере
echo "hello">downloadme-создаем
192.168.88.131/downloadme-переходим в удаленном сервере
wget https://192/168.88.131/downloadme -скачать с удаленного сервера (на ubuntu)
ssh имя_пользователя@ip-adress
scp-безопасное копирование из одной машины в другую

w-кто подклюен к SSH-сервису
cat /etc/shadow- узнать хэш-пароли
cat /etc/passwd-узнать какие пользователи есть в системе
bin/bash-есть доступ к SSH-сервису

cat /etc/shadow-посмотреть SSH-пароли
id -узнать к какой группе я принадлежу
groups tom-узнать к какой группе принадлежит tom
cat /etc/group- посмотреть список

adduser tom-создает пользователя с домашней директории
useradd tom-создание пользователя без домашней директории
userdel tom-удаление пользователя
deluser --remove-home tom -удаление пользователя и его домашнюю директорию
passwd tom -добавить пароль Тому
usermod -g cats tom -изменить тому группу(cats)
delgroup tom-удаление группы tom
r-read(для файлов можно посмотреть их содержимое,для директории посмотреть содержимое директории)(4)
w-write(для файлов можно изменить содержимое ,для директории файлы можно перетаскивать,изменять и удалять)

x-execute(1)(для файлов может быть запущен как программа,для директории есть доступ к файлам в этой директории )

u-user(пользователь)
g-group(группы пользоватея)
o-other(ОСТАЛЬНЫЕ)
all-ВСЕХ
+-для добавления/удаления
= для указания конкретных прав
chmod ugoa +=-rwx filename -Syntax
chmod u+x somefile
chmod a+rw somefile

у каждого процесса свой id
ps-показывает процессы в сессии
ps -f -показывает процессы в расширенном формате
ps -e -показывает все процессы
ps -u <username>-показывает процессы определнного пользователя
ps -p <PID>-показывает процесс этого айди
kill <pid>-убить процесс
kill -9 <pid>-убить окончательно процесс

убить bash пользователя-означает убить процесс at all
&-ампирсант в конце команды запускает в фоновом режиме 

jobs -узнать какие процессы работают в фоне
fg <номер процесса>([]) - вернуть процесс на передний	 план
tmux-открыть shell tmux
CTRL+b then d -перейти к исходному shell( но при этом работают в фоне процессы,например ,nmap)
tmux list-sessions-отобразить все сессии(надо перейти к пользователю,чтобы посмотреть его сессии,если даже ты сидишь на root )
tmux attach- присоединение к сессии


nohup command(nmap -v -T0) hack.ru &- включить процесс в фоновом режиме

chfn-изменить полное имя

passwd -l <пользователь> -блокировка пользователя
newgrp- измена группы
wc -l <Имя файла> -узнать сколько строк в файле



>-вывод команды в файл
>>-перезаписывание команды в файл
<-перенаправление из файла в команду

cat user1 user2>all-users-перемещение содержимого из use1 /user2 в all-users



netdiscover -h 
netdiscover -r диапазон -узнать айпи в сети
netdiscover 192.168.0.12 /24- в диапазоне от 0 до 255

nmap -v -p 0-65535(скан всех портов) -A 


nmap(сетевой мапер для сетевого обнаружения):используется для сбора информации
nmap <IP>
nmap 
sudo nmap -sS <IP> -Син флаг(дефолтное сканирование )
nmap -iL <имя файла с целями>-сканирование 
nmap -iR <кол-во случайных чисел> -vv(вербальность деталей чем больше vv тем больше деталей)
nmap -v -T0 hckthissite.org &-включение команды в фоновом режиме
nmap <ip-адрес> -O -сканирование детальное
nmap <ip-адрес> --fuzzy -сканирование ОС 

nmap -v -подробный режим

nmap -v -T<1-5> -p 0-65535 -A <ip> -oA(сохранение файлами) metasplotable2







нажатие кнопки F -увидеть можно в процентах сколько осталось
нажатие v увеличеть вербальность
state- состояние открытый
filtered -фильтруется ,nmap не может определить открытый порт или нет
закрытый(фильтруется)
nmap с опцией -sL -сканирование с целью составления списком






















TLD-top level domain(все что написано после .)
generic top level domain(не привязано к стране edu-education,com-комерческие веб-асйты,ai-орган связ с искусст интеллектом)
country code top level domain-привязанные к стране(ru,us,uk)








типы запросов:
1)рекурсивный(ip-адрес сайта)
2)iterative(ip-адрес сайта или авторитатирвный DNS сервер)
3)inverse(обратный- с айпи на доменное имя)




nikto -host <ip-adress> -p <port>-сканирование с помощью nikto








1)history-показывает историю команд




ctrl+a-возвращает на начало строки
ctrl+e-возращает курсор на конец строки
crl+k -все удаляет с начала курсора
ctrl+y-вставляет все обратно
ctrl+l-убираетт все с экраны

в папке bin находятся программы ,которые может запустить пользователь 
в директории etc находятся файлы конфигурации(например SSH)
в директории home -находятся папки пользователя

в директории sbin находятся системные бинарные файлы(используется для перенастройки системы) требуется root права
в директории tmp находятся временные файлы и папки(можно использовать как ненужные файлы и мусора)
в директории root находятся root директория

в директории .zhs_history будут последние 500 команд

apt-cache search -ищет пакеты
apt-cache show-смотрит информацию о пакете
apt-get install -установка пакета
apt-get remove-удаление пакета
apt-get purge-удаление пакета и файлы конфигурации
apt-get update-Обновление системы
apt-get uograde-полностью обновить дистрибутив
также можно устанавливать и без слова get (результат будет таким же ,только графически при установке будет намного красивее )
dpkg -i package.deb-установка пакета из локального репозитория
dpkg -r package.deb-удаление пакета
dpkg -l


Архивация и сжатия:
при сжатии занимает меньше место

tar c -создание архива
tar r -добавление файлов в архив
tar t-посмотреть содержимое архива
tar x -распаковка архива
tar v -что происходит в архиве
tar f file-для указания имени файла

gzip-класический инструмент сжатия linux
bzip2 -лучше сжимает ,однако немного больше занимает времени

tar cvf archive.tar file1 file2 dir1 dir2- cжатие директории и фалов

tar tvf archive.tar -просмотр содержимого

tar xvf archive.tar file3 -распаковка file3

tar xvf archive.tar-распаковка всех директории и фйлов

tar xvf archive.tar -C /tmp/extracted -распаковка в другую директорию

распаковка и сжатия файлов gzip и bzip

tar zcvf compressed.tar.gz file1 file2
tar jcvf compressed.tar.bz2 file1 file2

tar ztvf compressed.tar.gz- отоброзить содержимое файла
tar jcvf compressed.tar.gz-отобразить содержимое файла

Специальные символы:
*- показать отсутсвие символов или все символы
?-соответствует только одному символу
[]-символы заключенных в скобках
\-используется для исключения символов

tree- показать дерево директории
file <имя файла> -показывает формат файла и путь
apropos keyword -


Сети :
сетевой интерфейс-это каким способом ваш компьютер подключен к сети
eth0-проводная сеть
lo-локал хост(ip -локальной машины)
wlan0-беспроводная сеть

cat /etc/resolv.conf -узнать свой DNS-server

netstat -antp -какие cервисы запущены

nano(текстовый редактор):
CTRL+O-сохранить
CTRL+X -выйти
CTRL+W-найти ключевое слово(ALT+W -переходит к след слову)
CTRL+K-удалить всю строку
CTRL+U-вернуть обратно предыдующую строку

ВЕб-сервер:
SSH-безопасный shell-можно авторизоваться удаленно к командной строке
Apache -веб сервер 

как из кали превратить в веб сервис- 
service apache2 start-запуск apache
cd /var/www/html/-все что туда создаем доступно в открытом доустпе

пример :echo "hello">downloadme
wget http://ip/downloadme- скачать файл из apache

service ssh start- запуск ssh сервера
через ssh можно перекидывать через WinSCP файлы между компьютерами
в /etc/ssh/sshd_config -убрать решетку в permitrootlogin yes

ssh localhost авторизироваться через root

nano /etc/ssh/sshd_config-узнать свой порт

ssh <ip>-присоединиться к ssh серверу
ssh james@<ip>-присоединиться к ssh серверу под именем james(если не указывать имя пользователя ,то он будет пытаться авторизоваться как root)

Управление пользователями и группами:
whoami-кто я 
w- узнать кто подключен к машине 
cat /etc/passwd-узнать какие пользователи есть в системе
cat /etc/shadow-узнать хэши паролей

id-узнать к какой группе я принадлежу
groups tom -узнать к какой группе принадлежит пользователь tom
cat /etc/group -узнать список групп

adduser <имя пользователя>-создание пользователя и его домашнюю директорию
useradd <имя пользователя>-создание пользователя но не создает его домашнюю директорию
su<имя пользователя>-войти в пользователь
exit -выйти из пользователя 
новые пользователи создаются с id 1000- и тд(у каждого есть bin/bash -то есть они могут удаленно авторизироваться к машине)

userdel <имя пользователя>-удаляет только имя пользователя
deluser --remove-home <имя пользователя> -удалить пользователя и его домашнюю директорию 

addgroup <имя группы> -создать группу
usermod -g cats tom-изменить группу пользователя <tom >на группу cats
delgroup tom-удалить группу tom

Права пользователей:
r-Read
------------------------------------
>-используется для перенаправления команды в файл
>>-добавляется команды в файл
< -перенаправляет команды в файл в командную строку
-----------------------------------
|-объединение команд
grep-ищет по поиску ключевых слов
wc -l <имя файла>-показывает сколько строк в файле
------------------------------------
netdiscover -h -вызвать справку
netdiscover -h 
netdiscover -r диапазон -узнать айпи в сети
netdiscover 192.168.0.12 /24- в диапазоне от 0 до 255

во многие ftp сервера можно зайти под лоигином anonymous и без пароля
bye-выйти из ftp сертвера

vulnweb.com-сайт для сканеров
./zap.sh -запустить zap(но надо быть в каталоге с файлом)
----------------------------------------
hydra -атака по словарю
hydra -l root -P worst-50 mysql://192.168.190.145-атака пользователя root на 192.168.190.145 по словарю worst-50(сами можем взять из интернета(самые использованные пароли))

----------------------------------------------------------------
NMAP:
nmap -v -sV(версии сервисы) -p- <ip adress>-просканировать цель
