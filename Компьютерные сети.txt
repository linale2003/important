Компьютерные сети:
Классификация сетей:
1)тип коммутации:
Коммутация каналов(телефонный)-при повреждении одних из проходных узлов -соединение разрывается 
коммутация пакетов(компьютерные сети)-каждый пакет делится друг от друга и может переходить по разным путям-если поврежден один из проходных узлов ,то можно пойти по другим путям 
2)Технология передач:
Широковещательные сети(данные ,которые передаются в сеть,доступны всем компьютерным сети)(Классический Ethernet,WI-FI)
Точка-Точка(данные передаются от одного компьютера к другому,иногда приходится передавать данные через несколько соединителных узлов)(коммутируемый Ethernet)
3)Протяженность
Название	  Протяженность	   Расположение
Персональная	 1м				на столе(пример bluetooth)
Локальная		 10м-1км		Комната,здание,кампус
Муниципальная	 10км 			Город(обеспечивает доступ к интернету,телефону,телевидению)
Глобальная 		 100-1000 км 	Страна,континент(ростелеком,транселеком)
Объединение сетей	10000км		Весь мир(Интернет)


Топологии сетей(схема соединения компьютеров в сети):
Топология сети-конфигурация графа:
Вершины-узлы сети(компьютеры и сетевое оборудование)
Ребра-связи между узлами(физические или информационные)

Полносвязная топология(прямое соединение устройства с другими устройствами )Особенности:Прямой канал
Недостатки :если много компьютеров,то такая топология невозможна

Ячеистая топология(похоже на полносвязнную,только удалены некоторые соединения)
Звезда(компьютеры подключены к центральному устройству,передача данных выполняется через центральное устройства,в качестве центрального устройства служит сетевое оборудование(например точка доступа различные роутеры(маршутизатор,wifi))  )
Кольцо(каждый компьютер соединяется с соседними компьютерами,передача данных выполняется по кольцу)


Дерево:сетевое оборудование образует дерево(чтобы передать данные ,придется пройти через несколько промежуточных устройств)
Общая шина-передаются к общей сети(обычный медный кабель,который идет вдоль всех компьютеров)

на практике в крупных огранизациях используется смешанная топология
Виды топологии:
физическая топология -соединения устройств в сети
логическая топология-правила распространения сигналов в сети

Стандарты в области компьютерных сетей 
RFC793-протокол TCP
RFC791-протокол IP
RFC826--протокол ARP
RFC792-протокол ICMP
RFC2131-протокол HCP

Читайте стандарты,чтобы разобраться в деталях работы технологий и протоколов:
IEEE-сетевое оборудование
RFC-компьютерные сети
Рекомандации W3C- WEB

Сложности построения сетей:

1)Многообразие оборудования и программного обеспечания
2)Надежность
3)Развитие сети
4)Распределение ресурсов
5)Качество обслуживания
6)Безопасность 

Сервис-описывает какие функции реализует уровень
Интерфейс-набор примитрвных операции ,которые нижний уровень продоставляет верхнему
Протокол-правила и соглашения,используемые для связи уровня N одного компьютера с уровнем N другого компьютера


Модель OSI(Юридический стандарт организации ISO(приняла междунородная организация по стандартизации))-
Уровни:
1)Физический(Physical)
2)Канальный(Data Link)
3)Сетевой(Network)
4)Транспортный(Transport)
5)Сеансовый(Session)
6)Представления(Presentation)
7)Прикладной(Application)

Физический уровень-передача битов по физическому каналу связи
Не вникает в смысл передаваемой информации
Задача:Как представить биты информации в виде сигналов,передаваемых по среде

Канальный уровень-Передача сообщение по каналу связи
(Определение начала/конца сообщения в потоке бит)
Обнаружение и коррекция ошибок
в широковещательной сети:
Управление доступом к среде передачи днных
Физическая адресация(чтобы только один компьютер передавал данные)

Сетевой уровень-Объединяет сети,построенные на основе реальных технологий
Задачи:
Создание составной сети,согласование различий в сетях
Адресация(сетевые или глобальные адреса)
Определение маршрута пересылки пакетов в составной ети

Транспортный уровень-обеспечивает передачу данных между процессами на хостах

управление надежностью:
1)Может предоставлять надежность выше,чем у сети
2)Наиболее популярный сервис-защищенный от ошибок канал с гарантированным пордком следования сообщенич
Сквозной уровень
1)Сообщения доставляются от источника адресату
2)Предыдущие уровни используют принцип звеньев цепи

Сеансовый уровень-Позволяет устанавливать сеансы связи

Задачи:
1)Управление диалогом(очередность передачи сообщений)(определяет кто когда будет говорить,чтобы все другие могли слышать)
2)Управление маркерами(предотвращение одновременного выполнения критичной операции)
3)Синхронизация(метки в сообщениях для возобновления передачи в случае сбоя)

Уровень представления-Обеспечивает согласование синтаксиса и семантики передаваемых данных
1)Форматы представления символов
2)Форматы чисел
Шифрование Дешифрование 
Пример:
Transport Layer Security(TLS)/Secure Sockets LAyer(SSL)

Прикладной уровень:
Набор приложений,полезных пользователям:
Гипертекстовые Web-страницы
Социальные сети
Видео и аудио связь
Электронная почта
Доступ к разделяемым файлам 
и многое другое


Модель и стек протоколов TCP/IP

включает четыре уровня:
1)Прикладной(HTTP,SMTP,DNS,FTP)
2)Транспортный(TCP,UDP)
3)Интернет(Протколы:IP,ICMP,ARP,DHCP)
4)Сетевых интерфейсов(Ethernet,WI-FI,DSL(передача данных через модем))

Пятировневая модель"OSI+TCP/IP"
1)Прикладной
2)Транспортной
3)Сетевой
4)канальный
5)Физический

Модель OSI:
Хорошая теоретическая проработка
Протоколы не используются

Модель TCP/IP:
Протоколы широко применяются
Ограниченная модель ,подходит только для описания сетей нао основе стека TCP/IP

Применение:
OSI-модель для описания разных типов сетей(Fibre Channel,infiniband,телефонная сигнализация SS7)
TCP/IP-протоколы,основа интернета


Стек протоколов TCP/IP:
Найболее популярный набор протоколов
Основа интернета
Модель TCP/IP:
Фактический стандарт на организацию сетей на основе стека протоколов TCP/Ip
4уровня(5 уровня())

-------------------
Физический уровень:
Сервис:Передача потока бит по среде передачи данных
Не вникает в смысл передаваемой информации
Единица передачи информации-бит
Задача физического уровня:
Как представить биты информации в виде сигналов,передаваемых по среде

Характеристики канала связи:
пропускная способность(бит/с)
Задержка
Количество ошибок

Типы каналов связи
Симплексный,дуплексный,полудуплексный

Среды передачи данных:
Кабель:
Телефонный кабель("лапша")
Коксиальный кабель
Витая пара
Оптический кабель
Провода электропитания 220В

Беспроводные технологии:
Радиоволны
Инфракрасное излучение 

Спутниковые каналы
Беспроводная оптика

-------------------
Канальный уровень
Передача сообщение по каналам связи-кадров
	Определение начала/конца кадра в потоке бит
Обнаружение и коррекция ошибок

Множественный доступ к каналу связи:
Адресация
Согласоывнный доступ к каналу
Физический уровень передает поток бит,НО как выделить в этом потоке отдельные сообщения-кадры? 

Методы выделения кадров
1)Указатель количества байт: В начале каждого кадра указывается его длина в байтах:Просто в реализации(на практике не применяе )
2)Вставка байтов и битов: Начало и конец каждого кадра отмечаются чпециальными последовательностями байтов или бит

Протокол BSC-текстовые символы:
DLE STX-начало кадра
DLE ETX-конец кадра
Excape последовательность в данных-DLE

Протоколы HDLC и PPP-биты:
011111110-начало и конец кадра
в данных после пяти последовательных 1 добавлялся 0
3) Средства физического уровня (Применяется в технологий Ethernet)

Преамбула(Класический Ethernet):Длина 8 байт
Первые 7 байт:10101010
Последний байт:10101011(ограничетль начала кадра)
Передача неиспользуемых символов избыточного кода(Fast Ethernet):
Начало кадра- пара символы J(11000) и K(10001)
Конец кадра-символ T(01101)
Обнаружение ошибок:Контрольная сумма
Исправление ошибок:Коды исправляющие ошибки(с избыточной информацией)
Позволяют обнаруживать и исправлять ошибки

Повторная отправка данных:
Если в кадре обнаружена ошибка.его можно отправить заново
Повторная отправка кадра,который не дошел до получателя


Методы повторно отправки :
1)Остановка и ожидание: Отправитель передает кадр и останавливается
2)Получатель отправляет подтверждение(если сообщение искажено или потеряно,то отправитель в течение определенного времени отправляет кадр еще раз)
3)Отправитель передает новый кадр

Скользящее окно(на канальном уровне не используется,но используется на транспортном уровне в протоколе TCP):
1)Отправитель передает несколько кадров один за другим,не дождиается подтверждения
2)Количество кадров ,которое можно отправить,называется размером окна
3)Получатель подтверждает получение кадров
4)Отправитель передает новую порцию кадров 

Итоги
Канальный уровень-второй уровени модели (OSI-взаимодействие открытых систем)
Основная задача:передача целых сообщении по каналам связи-кадров
Обнаружение и исправление ошибок
---------------------

Технология Ethernet-самая популярная технология для создания проводных компьютерных сетей-находятся на канальном и физическом уровнек
Типы Ethernet:
1)Ethernet(скорость 10Мб/c Кабель-Толстый,тонкий коаксиал,витая пара,оптика)
2)Fast Ethernet(100Мб/с Витая пара,оптика)
3)Gigabit Ethernet(1Гб/с Витая пара,оптика)
4)5G Ethrnet(2,5Гб/ 5гигабит/c Витая пара,оптика)
5)10G Ethernet(10Гб/c Витая пара,оптика)
6)100G Ethernet(40Гб/с 100Гб/c  Оптика)

концентратор-устройство для создания сетей Ethernet на основе витой пары
Физическая топология-звезда
Логическая топология-общая шина

Физический уровени Ethernet:
Коаксиальный кабель
Витая пара
Оптоволокно
Канальный уровень Ethernet:
Методы доступа и протоколы,одинаковые для любой среды передачи данных
В классическом Ethernet смешаны подурвно LLC и MAC
Итоги: 
Ethernet-доминирующая в настоящее время сетевая технология для проводной связи
Варианты тезнологий Ethernet:
Класический Ethernet
Коммутируемый Ethernet

Развитие технологии Ethernet:
Ethernet(10Мб/c),Fast Ethernet(100Мб/c),Gigabit Ethernet,5G Ethernet,10G Ethernet,100G Ethernet
Форма кадра(общий для классического и коммутируемого Ethernet)

кабель UTP-5 (Patch-cord(Патч-корд))
-------------------------
MAC-Адреса(Media Access Controll)
на канальном уровне
Служат для идентификации сетевых интерфейсов узлов сети:
Ethernet
Wi-Fi

Длина;6байт(48бит)
Форма записи- шесть шестнадцатеричных чисел
Типы Mac-адресов:
Индивидуальный(получает один компьютер в сети )
Групповой(первый бит старшего байта адреса равен 1:01-80-C2-00-00-08)(данные получают компьютеры,которые входят в группу)
Широковещательный(FF-FF-FF-FF-FF)

Уникальность Mac-адресов
В одном сегменте сети не должно быть одинаковых Mac-Адресов
Если будет два компьютера с одним MAC-адресом,то один из них не будет работать
1)Централизованных:Адреса назначаются производителем обороудования
Правила назначения описываются стандартом IEEE802
2)Локальный:Адреса назначаются администратором сети
Администратор должен обеспечить уникальность 

Индикатор способа назначения-второй бит старшего байта Mac-адреса
0-Адрес назначен централизованно
1-адрес назначен локально

Способы назначения:
При централизованном назначении MAC-адреса должны быть уникальны во всем мире
Структура MAC-адреса:
Первые 3 байта -уникальный идентификатор организации ,выдается IEEE производителям оборудования
Последние 3 байта-назначает производитель оборудования,кототорый отвечает за уникальность

Примеры OUI:
00:00:0C
Итоги:
MAC-адреса-канальный уровень
MAC-адреса должны быть уникальны
Использование MAC-адресов:Ethernet Wi-Fi
Назначение MAC-адресов:Автоматическое производителем сетевых адаптеров,Ручное
------------------
Ethernet.Метод CSMA/CD
Ethernet-доминирующая технология проводных локальных сетей
Класический Ethernet
1)Разделяемая среда передачи данных
2)Топология"Общая шина"
Необходим метод обеспечения согласованного доступа к общей среде
Данные искажаются,если несколько компьютеров передают одновременно:
Коллизия
чтобы не было коллизии должен применяться метод
Класический Ethernet использует метод доступа к среде CSMA/CD
Carrier Sense Multiple Access with Collision Detection(Множественный доступ с прослушиванием несущей частоты и обнаружением коллизий)
Компьютеры передают данные только если среда свободна
Способ определить,свободна ли среда-прослушиване основной гармоники сигнала(несущей частоты)
Обнаружение коллизий:
Два компьютера начали передачу одновременно-Коллизия
Обнаружение коллизий:
Компьютер передает и принимает сигналы одновременно
Если принятый сигнал отличается от переданногозначит возникла коллизия
Jam-последовательность-передается компьютером при обнаружении коллизий для того,чтобы другие компьютеры лешче ее распознали

Модель CSMA/CD
1)Период передачи(Если в среде нет несущей частоты,то компьютер может начинать передачу данных)
Схема передачи:
Преамбула-кадр-межкадровый интервал
Формат преамбулы:Длина 8 байт
Первые 7 байт:10101010
Последний байт:10101011
После окончания преамбулы компьютер начинает передавать кадр 
Все остальные компьютеры в сети начинают принимать кадр и записывают его в свой буфер

Первые 6 байт кадра содержат адрес получателя:
Компьютер,который узнал свой адрес,продолжает записывать свой кадр
Остальные кдаляют кадр из буфера
Неразборчивый режим:Адаптер принимает все кадры в сети,не зависимо от MAC адреса
2)Период конкуренции
3)Период простоя

Если компьютер начал передавать данные и обнаружил коллизию,то он делает паузу
Длительность паузы: L*512 Битовых интервалов
Битовый интервал-время между появлениями двух последовательных битов данных:0,1 мкс в классическом Ethernet
L случайно выбирается из диапазона[0,2^N-1]
N-номер попытки
Итоги:
Класический Ethernet
1)Разделяемая среда
2)Топология общая шина
Коллизий возникают при передаче данных несколькими компьютерами одноврменно 
Метод доступ к среде CSMA/CD
Недостатки классического Ethernet
1)Плохая масштабируемость
2)Низкая безопасность

Решение проблем :Коммутируемый Ethernet
-----------------------
Коммутаторы Ethernet
Типы Ethernet:
1)Классический Ethernet
2)Коммутируемый Ethernet(испольузется до сих пор,нет разделяемой среды,нет коллизий,Новые устройства-коммутаторы(switch)и концентраторы(hub))
Концентратор(топология:общая шина ,физический уровень)
Коммутаторы(Полносвязная топология,канальный уровень)
---------------------------
VLAN(Virtal Local Area Network Виртуальная локальная сеть)
Место в модели OSI-канальный уровень,коммутаторы
Зачем использовать VLAN?
1)Изоляция сетей:Разные отделы внутри крупной компании,Разные компании в бизнес-центре
2)Преимущества изоляции сетей:Безопасность,Распределение нагрузки,Ограничение широковещательного трафика
Итоги:
Vlan-технология разделение единой сети на несколько логических сетей,изолированных друг от друга
VLAN реализуются на коммутаторах на канальном уровне
типы VLAN:
Нетегированные-номер VLAN в таблице коммутации
Тегированные -номер VLAN в кадре
-----------------
Проткол STP(Протокол связующего дерева)
Spanning Tree Protocol
Автоматическое отключение дублирующий соединений в Ethernet
Связующее дерево-подграф без циклов,содержащий все вершины исходного графа
Преимущества:
Надежность соединений между коммутаторами
Защита от ошибок конфигурации
Место в модели OSI-Канальный
Этапы работы протокола:1)Выбор корневого коммутатора,2)Определние кратчайших путей до корневого коммутатора,3)Отключение всех остальных соединений
Сообщения протокола STP(Bridge Protocol Data Units)(сообщения между свитчами) Отправляются каждые 2 секунды
Рассылаются на групповой адрес STP
--------------------
Wi-Fi-технология беспроводных локальных сетей
Wi-Fi-торговая марка
находится на Канальном и физическом уровнях
Режимы работы Wi-Fi:
Инфаструктурный режим
Одноранговый режим

Технология Wi-Fi похожа на Ethernet
Адресация-MAC-адреса
Разделяемая среда:
Ethernet-кабели
Wi-Fi-радиоэфир
Итоги:
Доминирующая технология беспроводной передачи данных в локальных сетях
---------------------
Wi-Fi.Управление доступом к разделяемой среде
Особенности беспроводной среды:Вероятность ошибки передачи выше,чем в проводной среде
Мощность передаваемого сигнала намного выше,чем принимаемого
Ограниченный диапазон распространения сигнала-не все компьютеры в сети получают данные:Проблема скрытой станции,Проблема засвеченной станции

Обнаружение колизий
Ethernet:Компьютер передает и одновременно принимает сигнал
Jam-последоватлеьность для усугбления коллизии
Wi-Fi:Передаваемый сигнал намного мощнее принимаеемого,Проблемы скрытой и засвеченной станции,Сигнал о коллизии может не дойти до всех компьютеров
Колизий в Wi-Fi:Обнаружение колизий происходит при отсутсвий подтверждения получения кадра
Коллизий в Ethernet дешевы:Обнаруживаются сразу после возникновения,Все компьютеры останавливают передачу данных
Коллизий в Wi-Fi обходится очень дорого:Временные затраты:передача кадра,тайм-аут ожидания подтверждения
----------------------------------
Wi-Fi.Формат кадра
Типы кадров в Wi-Fi:Кадры данных(Передача данных),Кадры контроля(Служебные кадры,RTS,CTS,ACK),Кадры управления(Реализация сервисов Wi-Fi,Примеры: ассоциация с точкой доступа)
-----------------------------------
Сервисы Wi-Fi
Сервисы Ethernet:Передача данных
Сервисы Wi-Fi:Ассоциация,Аутентификация,Пе
редача данных,Защита информации(шифрование) и др.
Режимы аутентификации:Открытая аутентификация(Подключение без пароля),Personal(Единый для всех устройств в сети),Enterprise(Отдельные пароли для разных пользователей с применением скрвера аутентификации(RADIUS,LDAP,и т.п))

Полное сканирование,Пассивное сканирование,Активное сканирвоание
Шифрование в Wi-Fi:Установлен флаг Protection Frame,Шифруются только данные ,но не заголовок
Типы шифрование:Wired Equivalent Privacy(на практике не испольузется),Wi-Fi Protected Access,Wi-Fi Protected Access 2(в настоящее время использеуется,наивысшее защита)
Итоги:
Наборы сервисов Wi-Fi:Базовый набор,Расширенный набор
Идентификаторы(для определения сервисов):SSID-Текстовый идентификатор сети,BSSID-идентификатор точки доступа(MAC-адрес)
Сервисы Wi-Fi:Аутентификация,Ассоциация,Передача данных,Шифрование,Роуминг

-------------------------------------------------
Сетевой уровень
Задачи сетевого уровня:1)Объединение сетей,Маршрутизация,Обеспечение качества обслуживания
Маршрутизатор-устройство для объединения сетей
Маршрутизация-поиск маршрута доставки пакета между сетямиычерез транзитные узлы-маршрутизаторы
Продвижение-передача пакета внутри маршрутизатора в соотсветсвии с правилами маршрутизации
Итоги:
Сетевой уровень-третий уровень модели OSI
объединяет сети,построенные на основе разных технологий:Согласование различий в сетях,Масштабирование в рамгках всего мира
Задачи:
Построение объединенной сети,Маршрутизация
Устройства сетевого уровня-Маршрутизаторы
Прототоколы сетевого уровня стека TCP/IP:
IP,ICMP,ARP,DHCP
----------------------------------
Ip-адреса
Локальные адреса:
Адреса в технологии канального уровня
Пример:MAC адрес в Ethernet,IMEI в 4G
Привязаны к конкретной технологии
Не могут быть использованы в гетерогенных сетях
Глобальные адреса:
Адреса сетевого уровня
Пример:IP-адреса
Не привязаны к технологии
Применяются при объединении сетей

Глобальные адреса,используемые в стеке протоколов TCP/IP
Используются для уникальной идентификации компьютеров в составной сети
Широко используются в Интернет
Две версии протокола IP:
IPv4(Далее просто IP):Адрес 4 байта
IPv6:адрес 16байт
Структура IP-адреса:
Номер подсети-старшие биты
номер хоста(компьютера в сети)-младшие биты
Пример структуры:
238.143.203.3-IP
238.143.203.0-номер подсети(старшие биты)
3-номер хоста(младшие биты)
Маска подсети-Маска подсети показывает,где в IP-адресе номер сети,а где хост
Структура Маски:
Длина 32бита 
Единицы в позициях задающих номер сети
Нули в позиция задающих номер хоста
IP:213.180.193.3
IP:11010101.10110100.110000001.00000011
						AND
Маска:11111111.111111111.111111111.00000000
						=
Подсеть:11010101.10110100.110000001.00000000
Подсети:213.180.193.0

Десятичное представление:
Ip-адрес:213.180.193.3
Маска подсети:255.255.255.0
Адрес подсети:213.180.193.0
В виде префикса:
213.180.193.3/24(означает что первые 24 бита относится к адресу сети а последний актет к адресу хоста)
Адрес посети:213.180.193.0
Оба представления эквивалентны
МАСКА ПОДСЕТИ НЕ ОБЯЗАТЕЛЬНО ДОЛЖНА ЗАКАНЧИВАТЬСЯ НА ГРАНИЦЕ ОКТЕТОВ
Итоги:
IP-адреса-глобальные адреса сетевого уровня,используемые в TCP/IP и Интернет
Длина 32 бита(IPv4),форма записи:213.180.193.1
Структура IP-адреса:
Номер подсети
номер хоста
Маршрутизаторы работают не с отдельными IP-адресами,а с сетями
Способы задания адреса сети и хоста:
Маска
Класы IP-ардесов
--------------------------------------